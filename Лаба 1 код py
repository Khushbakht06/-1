#Лабораторная работа №1
#Написать программу, которая читая символы из бесконечной последовательности (эмулируется конечным файлом, читающимся поблочно), распознает, преобразует и выводит на экран лексемы по определенному правилу. Лексемы разделены пробелами. Преобразование делать по возможности через словарь. Для упрощения под выводом числа прописью подразумевается последовательный вывод всех цифр числа. Регулярные выражения использовать нельзя.
#Вариант 10.
#Натуральные числа. Выводит на экран нечетные числа, меняя порядок цифр в них на обратный. Полиндромы (значения не меняется от смены цифр) - выводятся прописью.

# Создаем словарь для преобразования чисел в слова
numbers = {
    '0': 'ноль',
    '1': 'один',
    '2': 'два',
    '3': 'три',
    '4': 'четыре',
    '5': 'пять',
    '6': 'шесть',
    '7': 'семь',
    '8': 'восемь',
    '9': 'девять'
}

# Функция для инвертирования числа
def invert_number(number):
    return int(str(number)[::-1])

# Функция для проверки на палиндром
def is_palindrome(number):
    return str(number) == str(number)[::-1]

# Создаем файл example.txt и записываем в него данные
with open('example.txt', 'w', encoding='utf-8') as f:
    f.write('1234567890')

# Считываем цифру, с которой должны начинаться четные числа
start_digit = input("Введите цифру (от 0 до 9): ")

# Главный цикл программы, эмулирующий чтение данных из файла
count = 0
file_path = 'example.txt'

with open(file_path, 'r', encoding='utf-8') as file:
    for line in file:
        line = ''.join(char if char.isdigit() else ' ' for char in line)
        numbers_list = line.split()
        
        for number_str in numbers_list:
            number = int(number_str)
            if str(number).startswith(start_digit) and number % 2 != 0:  # Проверка на нечетность
                count += 1
                if is_palindrome(number):
                    print(numbers[str(number_str)], end=' ')
                else:
                    print(invert_number(number), end=' ')
                if count % 5 == 0:
                    print("\nПрописью:")
                else:
                    print()
